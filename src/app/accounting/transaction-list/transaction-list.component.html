<h2>Transactions</h2>
<app-pagination (pageChange)="onPageChange($event)" [(totalItems)]="filteredTrasactions.length"
  [(itemsPerPage)]="itemsPerPage"></app-pagination>

<div class="filters" [formGroup]="filters">
  <label>Start Date:
    <input class="form-control" type="date" name="filterDateStart" formControlName="startDate">
  </label>
  <label>End Date:
    <input class="form-control" type="date" name="filterDateEnd" formControlName="endDate">
  </label>
  <label>Account:
    <select name="filterAccount" class="form-control" formControlName="accountSelected">
      <option value=""></option>
      <option [value]="account.Name" *ngFor="let account of accounts">{{account.Name}}</option>
    </select>
  </label>
</div>
<span>Showing {{filteredTrasactions.length}} of {{transactions.length}} transactions</span> ({{itemsPerPage}} items per
page)

<ul class="list-group">
  <li *ngFor="let transaction of filteredTrasactions | pagination:itemsPerPage:currentPage" class="list-group-item">

    <div class="date">{{transaction.date | date:'dd/MM/yyyy'}}</div>

    <div *ngFor="let item of transaction.items" [ngClass]="{'debit': item.value < 0, 'credit': item.value > 0}">
      <!-- <div class="void" *ngIf="item.value > 0"></div> -->
      <div class="account" >{{item.account}}</div>
      <div class="value">{{item.value | currency:'BRL'}}</div>
      <!-- <div class="void" *ngIf="item.value < 0"></div> -->
    </div>
    <div *ngIf="transaction.description">{{transaction.description}}</div>
    <div>
      <button class="btn btn-warning" (click)="onStartEditTransaction(transaction)">Edit</button>
      <button class="btn btn-danger" (click)="onDeleteTransaction(transaction)">X</button>
    </div>
    <div *ngIf="editingTransaction && transaction == editingTransaction">
      <app-transaction-add [allAccounts]="getAllAccounts()" [transaction]="transaction"
        (save)="onUpdateTransaction($event)"></app-transaction-add>
    </div>
  </li>
</ul>