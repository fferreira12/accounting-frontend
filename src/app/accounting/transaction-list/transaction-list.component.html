<h2>Transactions</h2>
<app-pagination (pageChange)="onPageChange($event)" [(totalPages)]="totalPages"></app-pagination>

<div class="filters" [formGroup]="filters">
  <label>Start Date:
    <input class="form-control" type="date" name="filterDateStart" formControlName="startDate">
  </label>
  <label>End Date:
    <input class="form-control" type="date" name="filterDateEnd" formControlName="endDate">
  </label>
  <label>Account:
    <select name="filterAccount" class="form-control" formControlName="accountSelected">
      <option value=""></option>
      <option [value]="account.Name" *ngFor="let account of accounts">{{account.Name}}</option>
    </select>
  </label>
</div>
<span>Showing {{filteredTrasactions.length}} of {{transactions.length}} transactions</span> ({{itemsPerPage}} items per page)

<ul class="list-group">
    <li *ngFor="let transaction of filteredTrasactions | pagination:itemsPerPage:currentPage" class="list-group-item">
      <p>{{transaction.date | date:'dd/MM/yyyy'}}</p>
      <p *ngFor="let item of transaction.items"><span>{{item.account}}</span>: {{item.value | currency:'BRL'}}</p>
      <p *ngIf="transaction.description">{{transaction.description}}</p>
      <p>
        <button class="btn btn-warning" (click)="onStartEditTransaction(transaction)">Edit</button>
        <button class="btn btn-danger" (click)="onDeleteTransaction(transaction)">X</button>
      </p>
      <div *ngIf="editingTransaction && transaction == editingTransaction">
        <app-transaction-add [allAccounts]="getAllAccounts()" [transaction]="transaction" (save)="onUpdateTransaction($event)"></app-transaction-add>
      </div>
    </li>
  </ul>
